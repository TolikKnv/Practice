from math import *      # импорт всех функций из модуля math (в данном коде не используется)
from random import *    # импорт всех функций из модуля random

print("Добро пожаловать в числовую угадайку")
print()

number = randint(1, 100)  # загадываем случайное число от 1 до 100


# Функция для проверки, находится ли число в допустимом диапазоне
def is_valid(num):
    if num in range(1, 101):  # проверяем, входит ли число в диапазон 1–100
        return True
    else:
        return False


# Основная функция — выполняет один шаг игры (одну попытку)
def guess_number():
    try:
        # Запрашиваем у пользователя ввод числа и пытаемся преобразовать его в целое число
        input_number = int(input("Угадай число от 1 до 100: "))
    except ValueError:
        # Если ввод не является числом, выводим сообщение об ошибке
        print("Число введено неправильно")
        print()
        return False  # возвращаем False, чтобы цикл продолжился

    # Проверяем, входит ли число в диапазон
    if is_valid(input_number):
        # Если число угадано
        if input_number == number:
            print("Вы угадали, поздравляем!")
            print()
            return True  # возвращаем True — игра заканчивается
        # Если число больше загаданного
        elif input_number > number:
            print("Слишком много, попробуйте еще раз")
            print()
            return False
        # Если число меньше загаданного
        elif input_number < number:
            print("Слишком мало, попробуйте еще раз")
            print()
            return False
    else:
        # Если введённое число не в диапазоне 1–100
        print("Число не в диапазоне")
        return False


count = 1  # счётчик попыток

# Цикл продолжается, пока функция guess_number возвращает False
while guess_number() == False:
    count += 1  # увеличиваем количество попыток

# Когда пользователь угадал число
print(f'Количество попыток, которое вам на это понадобилось = {count}')
print()

print("Спасибо, что играли в числовую угадайку. Еще увидимся...")
